<Window x:Class="SionyxKiosk.Views.Windows.AuthWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="SIONYX - כניסה" Width="900" Height="600"
        WindowStartupLocation="CenterScreen" ResizeMode="NoResize"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent"
        FlowDirection="RightToLeft">
    <Border CornerRadius="16" Background="White" ClipToBounds="True">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- LEFT: Form Panel -->
            <StackPanel Grid.Column="0" VerticalAlignment="Center" Margin="48">
                <TextBlock Text="ברוכים הבאים" Style="{StaticResource TextH1}" Margin="0,0,0,8" />
                <TextBlock x:Name="SubtitleText" Text="התחבר לחשבון שלך"
                           Style="{StaticResource TextSubtitle}" Margin="0,0,0,32" />

                <!-- Phone -->
                <TextBlock Text="מספר טלפון" Style="{StaticResource TextCaption}" Margin="0,0,0,6" />
                <TextBox x:Name="PhoneInput" Style="{StaticResource FrostInput}"
                         Text="{Binding Phone, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,16" />

                <!-- Password -->
                <TextBlock Text="סיסמה" Style="{StaticResource TextCaption}" Margin="0,0,0,6" />
                <PasswordBox x:Name="PasswordInput" Style="{StaticResource FrostPasswordBox}" Margin="0,0,0,8" />

                <!-- Registration fields (hidden by default) -->
                <StackPanel x:Name="RegisterFields" Visibility="Collapsed">
                    <TextBlock Text="שם פרטי" Style="{StaticResource TextCaption}" Margin="0,8,0,6" />
                    <TextBox Style="{StaticResource FrostInput}"
                             Text="{Binding FirstName, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,8" />

                    <TextBlock Text="שם משפחה" Style="{StaticResource TextCaption}" Margin="0,8,0,6" />
                    <TextBox Style="{StaticResource FrostInput}"
                             Text="{Binding LastName, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,8" />
                </StackPanel>

                <!-- Error message -->
                <TextBlock x:Name="ErrorText" Text="{Binding ErrorMessage}"
                           Foreground="{StaticResource ErrorBrush}" FontSize="{StaticResource FontSizeSm}"
                           Margin="0,8,0,0" TextWrapping="Wrap"
                           Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVis}}" />

                <!-- Action button -->
                <Button x:Name="ActionButton" Content="התחבר" Style="{StaticResource BtnPrimary}"
                        Command="{Binding LoginCommand}" Margin="0,24,0,0"
                        IsEnabled="{Binding IsLoading, Converter={StaticResource InverseBool}}" />

                <!-- Toggle link -->
                <Button x:Name="ToggleButton" Content="אין לך חשבון? הירשם"
                        Style="{StaticResource BtnGhost}" Margin="0,12,0,0"
                        Command="{Binding ToggleModeCommand}" />
            </StackPanel>

            <!-- RIGHT: Overlay panel with gradient -->
            <Border Grid.Column="1" Background="{StaticResource AuthGradient}" CornerRadius="0,16,16,0">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Margin="48">
                    <TextBlock Text="SIONYX" FontSize="42" FontWeight="ExtraBold"
                               Foreground="White" HorizontalAlignment="Center" Margin="0,0,0,16" />
                    <TextBlock Text="ניהול מחשבים חכם" FontSize="18"
                               Foreground="#FFFFFFCC" HorizontalAlignment="Center" />
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>
